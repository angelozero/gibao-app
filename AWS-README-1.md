# AWS - Amazon Certification - Developer Associate 2021

## IAM

  - IAM - Identity Access Management
 
  - Local dentro da Amazon aonde se cria e configura usuarios, grupos, permissoes...
 
  - Multifactor Authentication
    - User / Password / Token-Auth - Acessando atraves de um token - Ex.: Google Token que dura 30 secs
 
  - Identity Federation
    - Link da plataforma aws com 
      - facebook
      - linkedin
      - AD ( active directory )
      - Twitter
 
  - Permissions
    - Configurar para que o usuario consiga por exemplo criar maquinas virtuais ( EC2 ) do tipo: SMALL/ 12G Ram / 1T Disk
 
  - Passwords
    - consegue criar uma politica de rotatividade de senha para que ela expire para realizar sua troca constante
 
  - Shared
    - compartilhamento de serviços
 
  - PCI DSS Compliance ( VISA / MASTER )
    - Segurança que prove que os dados do cliente como forma de pagamento estejam bem protegidos

  - Users
    - Contas
  - Groups
    - Grupos de acesso a Data Base / S3 / EC2 / etc...
  - Roles
    - Regras que podem ser aplicadas a Users e/ou Groups
      - Ex.: Regras de acesso/serviço
  - Polices
    - Politicas do que o usuario pode fazer
      - Police para EC2 -> Read DB1
      - Police para EC2 -> Read and Write DB2
      - Pode ser aplicado para Users / Groups / Roles
      - Digite a nova url -> sua-url-customizada
      - Deve ficar algo parecido com isso -> https://sua-url-customizada.signin.aws.amazon.com/console

  - Alterando a URL para login ( Creating Alias IAM for any User )
    - IAM dashboard
    - Sign-in URL for IAM users in this account
    - Customize

  - Criando autenticacao via Multi Factor Authenticator ( MFA Authenticator )
    - Canto superior direito angelo_zero ( nome da conta )
    - My Security Credentials
    - Multi-factor authentication (MFA)
    - Active MFA
      - Virtual MFA device
      - Show QR Code
      - Usando o app Google Authenticator
        - MFA code 1 ( esperar 30 segundos )
        - MFA code 2  
        - Assing MFA

  - Criando Users 
    - Dentro de IAM 
    - Coluna esquerda - User
    - Add User
    - inserir nome do User
    - Selecionar o tipo de acesso que este usuario vai ter ( ambas as opcoes podem ser selecionadas )
      - Programmatic access
        - Permissao ao usuario para que ele tenha acesso a um servico dentro da AWS ( para perfil de developer )
      - AWS Management Console access
        - Logar na plataforma ( para perfil de arquiteto ) 

  - USUARIO - Programmatic access
    - Set permissions - Nesta tela sera a de permissoes, mas esta pode ser criada no momento em que vc criar um grupo para inserir este usuario
    - Add tags (optional) - Identificacoes para o usuario
      - Key: Usuario
      - Value: Usuario Programatico
    - Review
      - Revisar a criacao do usuario
        - Havera uma mensagem dizendo que este usuario nao tem permissoes, isto esta ok.
    - Create User
    - Um ponto muito importante !!!
      - na proxima tela ( Tela de criaçao do usuario com sucesso ) havera uma informacao dizendo os dados do usuario, Access key ID e Secret access key
      - Clique no botao Download .csv para realizar o download dos dados deste usuario ( dados que vao conter Access Key ID e Secret Access Key)
      - Se caso nao for anotado as keys e nem salvo o .csv sera necessario a remocao e criacao novamente do usuario

  - USUARIO - AWS Management Console access
    - Deixar selecionado 
      - Autogenerated password
      - User must create a new password at next sign-in ( para que usuario ao se logar precise alterar sua senha )
      - Sem permissoes por enquanto 
      - Add tags (optional) - Identificacoes para o usuario
      - Key: Usuario
      - Value: Web Access Plataform
    - Review - tudo ok
    - Ao final vc pode baixar o arquivo do .csv e/ou enviar um email para o usuario criado para se autenticar pela primeira vez ( alterando a senha atual pela nova )

  - Criando Grupos
    - Criando dois grupos ( EC2 e Data Base )
    - User groups ou Groups ( coluna da esquerda dentro de IAM )
    - Create Group
    - Inserir o nome do grupo -> Group-Servers-EC2 / Group-Administrators-DB
    - Definir as Policys ( politicas ) de acesso do grupo
    - Para o primeiro grupo de EC2 foi definido
      - AmazonEC2FullAccess 
    - Para o segundo grupo de Data Base foi definido
      - DatabaseAdministrator 
    - Para adicionar usuario
      - No momento da criacao ou acessando o grupo posteriormente
        - Add users

  - Configurando o Password Policy no IAM
    - Definindo as Policys ( politicas ) de password ( de senha ) - Algo como quanto tempo essa senha estara disponivel para o usuario
    - Dentro de IAM
    - Coluna esquerda - Account settings
    - Change Password Policy 
    - Toda alteracao realizada vai ser refletido para todos os usarios dentro da sua conta AWS
    - Sugestoes de senha:
      - Numero de caracteres
      - Pelo menos um caracter Maiusculo
      - Pelo menos um caracter Minusculo
      - Pelo menos um numero
      - Pelo menos um caracter alfa numerico
      - Senha expira ( Determinar o tempo de expiracao )
      - Administrador reseta a senha
      - Permitir usuarios alterar a senha
      - Previnir do usuario usar senha antiga


## EC2

- EC2 - Electronic Computer 2 - Maquinas Virtuais 

- EC2 Options
  - Existem 4 tipos de maquina
    - On Demand
      - Subir / Desligar / Ligar uma VM - Paga por Hora / Min / Segundo - Pagamento feito depois
    - Reserved 
      - Reserva / Assina um contrato com a AWS de 1 a 3 anos - Usado para uma aplicaçao que nao tem alteracao - uma aplicacao estavel
    - Spot
      - BID - Usado para quando sua aplicao fica ligada por um tempo especifico, nao o dia todo. Configuracoes fixas mas podendo ser alterados.
    - Dedicated Hosts 
      - Maquinas fisicas - sao mais caras - usado por empresas financeiras, usado por exmeplo para armazenar dados de cartao de credito.

- EC2 Types
  - https://aws.amazon.com/ec2/instance-types/
  - Os tipos de instancia sao divididos em 5 categorias
    - General Purpose
    - Compute Optimized
    - Memory Optimized
    - Accelerated Computing
    - Storage Optimized

- EC2 Pricing
  - Free Tier - 12 meses  ( t2.micro ) 
  - On Demand
    - O preço varia por 
      - Localizacao
      - Sistema Operacional
      - Tipo da maquina

- EBS - Elastic Block Storaged
  - Armazenamento que as VM's utilizam 
  - Existem dois tipos de discos 
    - HD
    - SSD

- Iniciando uma instancia
  - Dentro da Cloud da Aws vamos criar uma instancia
  - AMI - Amazon Machine Image (AMI)
  - Dentro do serviço de EC2 escolha a opcao instance ao lado esquerdo da coluna
  
    - 1 - Choose AMI 
    - An AMI is a template that contains the software configuration (operating system, application server, and applications) required to launch your instance. You can select an AMI provided by AWS, our user community, or the AWS Marketplace; or you can select one of your own AMIs.
      - Escolher o sistema operacional / maquina que sera criada
    
    - 2 - Choose Instance Type
    - Amazon EC2 provides a wide selection of instance types optimized to fit different use cases. Instances are virtual servers that can run applications. They have varying combinations of CPU, memory, storage, and networking capacity, and give you the flexibility to choose the appropriate mix of resources for your applications.
      - Escolher o tipo de instancia
        - Ex.: t2.nano / t2.micro / t2.small
    
    - 3 - Configure Instance
    - Cancel Previous Review and Launch Next: Add Storage 
    Configure the instance to suit your requirements. You can launch multiple instances from the same AMI, request Spot instances to take advantage of the lower pricing, assign an access management role to the instance, and more.

      - Definir numero de instancias ( iniciar numero de maquinas ao mesmo tempo)
      - Configuracoes de IP
    
    - 4 - Add Storage
    - Your instance will be launched with the following storage device settings. You can attach additional EBS volumes and instance store volumes to your instance, or edit the settings of the root volume. You can also attach additional EBS volumes after launching an instance, but not instance store volumes.
      - Adicionando o HD / Volume para a maquina

    - 5 - Add Tags
    - A tag consists of a case-sensitive key-value pair. For example, you could define a tag with key = Name and value = Webserver. A copy of a tag can be applied to volumes, instances or both. Tags will be applied to all instances and volumes.
      - Adicionando TAG para a instancia criada

      - 6 - Configure Security Group
        - A security group is a set of firewall rules that control the traffic for your instance. On this page, you can add rules to allow specific traffic to reach your instance. For example, if you want to set up a web server and allow Internet traffic to reach your instance, add rules that allow unrestricted access to the HTTP and HTTPS ports. You can create a new security group or select from an existing one below.
          - Firewall para a maquina criada
          - Cria um grupo para reutilizar para outras maquinas. Ex.: configuracoes de porta para todas as maquians que estiverem nesse grupo.

    - Se conectando a maquina
      Open an SSH client.
      Run this command
        - chmod 400 linux-server.pem
      Connect to your instance using its Public DNS:
        - ssh -i "linux-server.pem" ec2-user@ec2-54-173-112-202.compute-1.amazonaws.com


## LOAD BALANCERS
  - Balanceamento de cargas de trafego de requisicao 

                                          ________ Servidor WEB1 ( 50% )
                                        /
      CLIENTE ---------   LOAD BALANCER --------- Servidor WEB2 ( 25% )
                                        
                                        \________ Servidor WEB3 ( 25% ) 
  - Ha 3 tipos de loadbalancer
    
    - application loadbalancer
      - responsavel por protocolos http/https\
      - camada 7 ( qual tipo de tragego )
      - consegue identificar a origem e destino

    - network loadbalancer
      - mais especifico para redes 
      - tcp
      - camada 4 ( filtra portas )

    - classic loadbalancer ( elastic load balancer )
      - mais antigo ( legacy )
      - nao recomenda
      - fazia as duas outras ( application e network ) e isso onerava muito 
  
  - Loadbalancer utiliza um sistema chamado x-forward for header, no cabeçalho http/https aonde é preenchido com o valor do endereço de IP origem, assim toda requisiçao que chega para um servidor que passar por um loadbalancer sabe exatamente para quem devolver.

- Criando um loadbalancer e dois servidores
  - Primeiro crie duas instancias ec2 ( linux t2.micro )
  - Adicione esse script para teste 
  ```
    #!/bin/bash
    yum update -y
    yum install httpd -y
    service httpd start
    chkconfig httpd on
    cd /var/www/html
    echo "<html><h1>Site Funcionando</h1></html>" > index.html
  ``` 
  - libere o acesso via http -> ( ver parte configure security group ) https://www.guru99.com/creating-amazon-ec2-instance.html
  - Na coluna agora ( ainda dentro de ec2 ) va em networking e crie um novo loadbalancer
  - selecione o Classic Load Balancer
  - Item Configure Health Check 
    - Response Timeout - tempo de espera para soltar timeout se caso um servidor nao responder
    - Interval - Intervalo de tempo para chamada para saber se o servidor esta de pé
    - Unhealty threshold - Quantidade de timouts para que diga que o servidor esta fora
    - Healthy threshold - Quantidade de chamadas para executar e garantir que o servidor voltou

## ROUTE 53
  - Responsavel pela resolucao de enderecamento IP
  
  - METRICAS
    - Simple Routing 
      - Rota simples ( se cair uma ainda havera um redirecionamento )
    
    - Failover Routing
      - Em caso de falha havera um redirecionamento para o proximo servidor
    
    - Geolocation Routing
      - Roteamente de usuarios tentando acessar seu site baseado na localizacao dele
    
    - Geoproximity Routing
      - De acordo com o servidor mais proximo, configuraveis para varias situacoes, o mais complexo

    - Latency based routing
      - Redirecionado para o servidor com menor latencia

    - Multivalue Answer Routing 
      - Mesma funcao que o simple routing policy com a adicao de healt check

## Storage S3 ( Simple Storage Service )
  - Armazenamento de arquivos
  - Tempo de acesso - tempo real - aproximadamente microssegundos x milissegundos 
  - No minimo 2 zonas disponiveis ( avaliability zone )
  - 5 TB por arquivo
  - ilimitado
  - cobrado por GB utilizado
  - rota para o bucket com a imagem 
    - HTTPS
    - S3-REGIAO
    - AMAZONAWS
    - COM
    - NOME DO BUCKET
    - NOME DA PASTA
    - NOME DO ARQUIVO 
    - Ex.: https://s3-us-west-2.amazonaws.com/bucket_name/folder_name/file_name
  - Avaliability - 99.9% ( disponivel )
  - Durability - 99.999999999 ( 11 noves ) ( durabilidade do arquivo )
  - Versioning - versionamento ao alterar um arquivo por tag/label
  - Encryption - arquivos encriptografados e precisam ser descriptografados para uso
  - ACL - Aplicacao de regra para acesso ao arquivo
  - Bucket Police - Politicas de acesso
  - Componentes
    - Object Base
      - Ao subir 
        - ao enviar o arquivo primeiro ele le ( READ ) e depois grava ( WRITE )
        - gera uma key -> nome do arquivo
        - com o value -> dados do arquivo
        - associa a uma version -> versao
        - metadata -> campo reservado dentro do s3 que armazena os dados, informacoes do arquivo ( local aonde o arquivo esta / tag ) - etiqueta de info do arquivo
        - acl -> permissoes
        - HTTP 200 -> codigo de confirmacao para operacoes de subida de arquivo com sucesso

    - S3 Tiers ( cobranças )
    - Standart
      - Jeito padrao de armazenamento da amazon
      - Sempre disponivel
      - O mais caro
    - IA
      - Infrenquenty Acess
      - Armazenamento de arquivos com menos frequencia
      - Paga apenas por acesso ao arquivo
      - 2 AZ ( avaliability zones )
    - One Zone
      - Mais barato que IA
      - Disponivel em apenas 
      - 1 AZ ( avaliability zones )
    - Glacier
      - Recomendado para backup
      - Muito barato
      - Para obter ao arquivo leva-se de 3 a 5 horas ( retrivial )

    - Cobranças
      - Storage - Per GIG - por giga 
      - Request - Per Access - por acesso
      - Storage Management Price - Por adicionar dados de informacao ao arquivo ( tags )
      - DTP - Data Transfer Princing - Cobrança por transferencia de regiao 
      - Transfer Acceleration - Habilitar CDN ( Content Delivery Network / Cloudfront ) 1 arquivo replicado para todas as instancias  

    - Permissoes
      - Para deixar um arquivo publico primeiro vc deve deixar como publico a bucket criada e logo apos o arquivo e ou a pasta + o arquivo desejado "Make Public"
      - Ordem de regra para acesso -> Bucket > Pasta... > Arquivo ou Bucket > Arquivo...

    - Cross Replication
      - Armazenando arquivos em regioes diferentes
      - Ir para o bucket primario que sera usado como replica e setar as regras para replicacao
        - Set Source > entire bucket ( ou por Prefix tags - para apenas arquivos ou pastas )
        - Selecionar para qual bucket ela vai ser copiada ( segunda bucket criada )
        - Storage Class - Escolha em qual tipo de armazenamento vc quer guardar as copias ( standart / IA / One Zone / Glacier )
        - Adiconar regra de replicacao e setar como enabled para que as buckets possam uma acessar a outra
        - Ao realizar a criaçao da segunda bucket para backup, os arquivos existentes da primeira nao sao automaticamente passados para a segunda, apenas sao passados os arquivos que forem salvos apos a criacao da segunda bucket. Para que possamos passar todos os arquivos ja criados antes da existencia da segunda bucket devemos rodar o seguinte comando: 
          -> "aws s3 cp --recursive s3://bucket-principal s3://bucket-bkp ( bucket de origem <> bucket de destino )"
        - Se na bucket principal for deletado um arquivo na bucket de backup ele nao sera excluido, replicacao é apenas para copia e nao copia e exclusao


## AWS CLI
  - CLI - Command Line Interface
  - Comandos via terminal para acessar a nuvem na amazon
  - Acessando o Bucket s3
    - digite o comando "aws configure"
      - com isso sera necessario digitar a KEY ( usuario ) e SECRET ( senha )
      - para criar este usuario vc deve ir em IAM
        - Criar o grupo
        - Criar o usuario 
          - no momento da criacao para o usuario acessar apenas a linha de comando selecionar a opcao "Programatic access"
          - colocar o usuario no grupo recentemente criado
          - no fim da criacao vc tera a informacao de KEY e SECRET 
      - selecione a regiao ou digite o nome da regiao
      - selecione o formato de saida ( json / text / table )
    - digite "aws s3 ls" para listar as buckets que vc tem
    - digite "aws iam list-users" para ver todos os usuarios

## CLOUD FRONT e NCD ( Network and Content Delivery )
  -  Fluxo
    > Bucket com um video > Cloudfront para compartilhar com todas as Edge Locations
  - Com o Cloud Front conseguimos compartilhar o acesso ao arquivo em outras localidades/regioes ( edges ) para que haja um delay menor ao acessar este arquivo. 
  - Criando uma distribuicao para o CloudFront
    - Existem dois tipos de distribuicao: Web para uma transmissao mais rapida ( lives streaming ) e a RTMP que serve apenas para arquivos armazendos dentro do S3 Bucket
  
  - RTMP ( Real Time Message Protocol )
    - Origin Domain Name - Bucket de origem criado com o arquivo de video
    - Restict Bucket Acess - Restringindo acesso ao video apenas pela url criada do cloud front ( subistituindo a anterior que era s3://bucket-mp4/folder/video.mp4 )
    - Restict Viwer Access - Regra para apenas usuarios criados dentro do dominio especifico
    - Price Class - Distribuicao de localidades aonde seu video sera compartilhado - All Edges Locations tem a melhor performance
    - Alternate Domain Names - novo nome da url 
    - Loggin - Log de todos os acessos
    - Bucket for Log - Bucket aonde os registros de log vao ser armazenados
    - Log Prefix - prefixo do log armazenado
    - Commment - Comentario
    - Distribution State - Associacao do conteudo com uma distribuicao 

  - WEB  
    - Origin Domain Name - Bucket de origem criado com o arquivo de video
    - Origin Path - Informar uma pasta dentro do bucket. Inserindo esta pasta apenas ela sera compartilhada no cloud front
    - Origin ID - Identificao da onde esta a origem do arquivo
    - Restict Bucket Acess - Restringindo acesso ao video apenas pela url criada do cloud front ( subistituindo a anterior que era s3://bucket-mp4/folder/video.mp4 )
    - Origin Custom Headers - cabeçalhos
    - Default Cache Behavior Settings
      - Como, o que e por quanto tempo ele vai armazenar o cache quando o CDN estiver em execução

# SERVLESS - LAMBDA
  - Gerenciamento de 
    - Servers - sem necessidade de se criar servidores
    - Scaling - sem necessidade de escalonamento de maquinas para suportar a demanda de acesso a aplicacao
    - Price - Muito mais barato
  - A criacao de toda a estrutura necessaria para que sua aplicacao funcione. Sem a necessidade de se criar ela e se preocupar com atualizacoes ou qualquer cenario externo
  - A arquitetura sem servidor permite criar e executar aplicativos e serviços sem preocupações com servidores. Ela elimina as tarefas de gerenciamento de infraestrutura, como provisionamento de servidores ou de clusters, patches, manutenção do sistema operacional e provisionamento de capacidade.
  - Muito mais barato
  - Codificado via LAMBDA
  - Codificacao para nao haver a necessidade de provisionar informacoes para a sua aplicacao funcionar 
     Ex: 
      TRADICIONAL
        - Se a aplicacao começar a ter um numero de acesso maior e se houver a necessidade de melhorar a capacidade de funcionamento sera necessario aumentar um EC2 e assim modificar nosso loadbalancer para que ele aponte para as novas instancias criadas
        LoadBalancer > EC2 > RDB
      
      SERVLESS
        - Independente da quantidade de acesso programamos via LAMBDA o gerenciamento de processos que serao executado conforme a demanada
        API ( Gateway ) > LAMBDA > RDB

# API - Types
  - API - Aplication Programing Interface
  - Dois tipos
    - Restful API - Representation State Transfer
      - Data Format ( output / saida ) - Plain Text, HTML, XML, JSON
      - Seguranca - SSL, HTTPS
      - Bandwith ( banda ) - Leve
 

    - SOAP - Simple Object Access Protocol
      - Data Format ( output / saida ) - XML
      - Seguranca - WS-Security, SSL
      - Bandwith ( banda ) - Pesada

# API - GATEWAY
  - O Amazon API Gateway é um serviço gerenciado que permite que desenvolvedores criem, publiquem, mantenham, monitorem e protejam APIs em qualquer escala com facilidade.
  - Para acessarmos uma funcao lambda criamos uma API Gateway para que podamos ter acesso a funcionalidade dentro da lambda

 # API - GATEWAY CACHE
  - Cache ou armazenamento de uma informacao
  - 1 chamada -> Mobile > Amazon Cloud Front > Amazon Gateway > Lambda / EC2 / Other Public Endpoint -> Armazena requisiçao em um Cache no retorno da chamda
  - 2 chamada -> Mobile > Amazon Cloud Front > Amazon Gateway > Cache
    - Cache finalizado atraves do TTL ( Time To Live )
  - Ao ativar o API Gateway, pode ativar tambem o Cache

# LAMBDA VERSIONS
  - Controlando versoes das lambdas criadas 
  - ARN - Amazon Resurce Name - URL da funcao Lambda 
    - Dois tipos
      - Qualifed -> ira visualizar $Latest na url
        - E possivel criar uma versao a partir dela
      - Unqualifed -> nao ira visualizar alguma tag na url 
        - Versao final, nao pode ser alterado

# STEP FUNCTION        
  - O AWS Step Functions é um serviço de fluxo de trabalho visual que utiliza pouco código, usado para orquestrar serviços da AWS

# X-RAY
  - Distributed Tracing
    - Facil localizacao de erros 
    - Bottlenecks ( funil )
  - Tipos de integraçao com as outras aplicacoes
    - Elastic load balancer
    - Lambda
    - Api Gateway
    - EC2
    - Elastic Bean Stalk
  - Linguagens que x-ray suporta
    - node
    - java
    - go
    - python
    - ruby
    - .net

# DYNAMO DB
  - NoSql
  - Rapido, no maximo 9ms resposta de consulta
  - Suporta dois Data Model
    - Document
    - Key - Value
  - Indicado para aplicativos mobile / game / Internet Of Things ( IOT ) 
  - Storage ( armazenamento ) em HD's SSD 
  - Armazena os dados em 3 Data Center ( geographically ) - ja incluso no preço
  - Dois tipos de consistencia
    - ECR - Eventual Consistent Reads ( Default )
      - Ao inserir dados na data base principal a replicacao de dados para as proximas podem demorar ate 1 segundo, sem comparacao com o que ja esta salvo nas data bases secundarias 
    - Strong Consistent Reads
      - Ao consultar um dado alem de consultar na data base principal ele tambem vai consultar nas data bases secundarias para trazer a informacao mais consistente 
    - Dados de uma tabela no DynamoDB
      - ITENS - Linhas 
      - ATTRIBUTES - Colunas 
      - KEY - TItulo de uma coluna
      - VALUE - Valor da Key 
    - Dados de uma tabela em Documento
      - Armazenamento em
        - JSON
        - HTML
        - XML
    - Existem dois tipos de KEY 
      - 1 - Partition Key
        - Valor unico na tabela que nao pode ser duplicado
      - 2 - Composite Key
        - Juncao de uma Partition Key + Sort Key
        - Um exemplo de Composite Key: Juncao de USER_ID + DATA_CRIACAO 
    - IAM - Parte de segurança
      - Pode se criar uma POLICY para que o usuario visualize itens na tabela mas apenas os itens pela Partition Key do usuario
    - Criando dados em uma Dynamo DB
      - 1 - Criar uma regra no IAM com acesso total
      - 2 - Criar uma instancia EC2
      - 3 - Carregar os arquivos de criacao de tabela + dados dentro EC2 no Dynamo DB
      - 4 - Verificar se os registros foram inseridos

# KMS
  - Criar Keys
  - Criar ususarios que podem usar essas keys
  - Encrptografar e decriptografar 
  - Arquivos que podem ser encriptografados
    - Bucket S3
    - EBS
    - RDS
    - Wormail
    - Tanscoder
  - Tipos de criptografia
    - Symetric
      - Usa uma key para encriptografar e decriptografar
    - Asymmetric
      - usa uma key pulbic e privada, uma para encriptografar / descriptografar e a outra para assinar

# KMS ENVELOPE
  -  Encriptografar a master Key - Basicamente usar o mesmo recurso de criptografacao mas encriptografando a master key que faz as encriptografias
    - Algoritimo + texto + KMS 

# SQS
  - Simple Queue Service
  - SQS nunca envia as informacoes, é puxado dele tudo isso - PULL
  - Recebe informacao e recebe uma requisicao para receber a informacao armazenada - PULL
  - Timeout - Mensagens pode ser armazenadas de 1 min ate a 14 dias - default 4 dias
  - 

# SQS Types
  - Standard Queue
    - Velocidade rapida de resposta
    - Nao ordena a ordem das mensagens, 
    - Numero ilimitado de transaçoes por segundo ( TPS Nearly Unlimited )
    - No minimo uma mensgem ou uma instrucao vai ser entregue

  - Fifo Queue 
    - Garante que a primeira mensagem que chega é a primeira que vai sair
    - Garante 1 x time processing - a mensagem vai ser processada apenas uma vez
    - limitado a 300 transacoes por segundo ( TPS ) 

# SQS Visibility Timeout
  - Se caso um servidor pegar uma mensagem e um segundo servidor tentar pegar a mesma mensagem, este segundo servidor nao vai conseguir pois a mensagem entrar em invisible state - visibility timeou

# SNS 
  - Simple Notification Service
  - Notificacoes por
    - Push - Mobile
    - SMS
    - Text Message
    - Email
    - Http

# CloudFormation
  - Amazon - Cloud Provider
  - Criacao de funcoes na amazon atraves de um arquivo YAML e/ou JSON
  - Ex.:
    ```yaml
    Resources:
      ## Nome do servidor
      WebServers:
        ## Serviço a ser utilizado
        Type: AWS::EC2::Instance
        Properties:
          ## Propriedades da maquina a ser criada
          AvailabilityZone: us-east-2a
          ImageId: ami-02bcbb802e03574ba
          InstanceType: t2.micro
    ``` 

# Kinesis
  - Trabalha com Streaming de dados
  - Streams
    - Producer
      - Informacoes constantes (ex: site de compra) como cadastro, itens, pedidos, paginas acessadas, etc... sao enviados ao kinesis e armazenados dentro de um HD chamado Shard por um periodo ( chamado de periodo de rentencao - vai de 24Hs a 168Hs ( 7 dias ) )
      - Cada Shard suporte 5 transactions por segundo
      - Cada Shard armazena 2 mb por segundo 
    - Consumer
      - Consome do shard a informaçao e envia para um DynamoDB / AmazonS3 / Kinesis Firehose

# Kinesis Firehose
  - Armazena toda streaming gerada dentro de um recurso da amazon - Amazon s3 ( bucket ) 

# Kinesis Analytics
  - Atraves de querys sql para exibir as analises feita pelo Kinesis  

# ElasticBeanstalk
  - Servico que possibilita implantar e gerenciar rapidamente aplicativos na Nuvem AWS sem precisar conhecer a infraestrutura que executa esses aplicativos
  - Oferece suporte a aplicativos desenvolvidos em Go, Java, .NET, Node.js, PHP, Python e Ruby
  - Tipos de Deployment
    - All at once - todos as instancias de uma vez
    - Immutable - cria o mesmo numero de instancias, atualiza essas instancias, muda o trafego para as novas instancias

--- 

# DEVELOPER 

# CI/CD
  - CI -> Continuous Integration 
  - CD -> Continuous Delivery ( MANUAL ) / Deployment ( 100% Automatizado )
  - Passos
    - ( CI ) - Git > Management System > Teste da aplicação > ( CD ) - Staging > Final
  - Code Repository   - Serviço na AWS -> Code Commit
  - Management System - Servico na AWS -> CodeBuild
  - Delivery / Deploy - Servico na AWS -> CodeDeploy
  - Todas essas funcionalidades podem ser gerenciadas pelo um serviço chamado CodePipeLine

# CodeCommit
  - Serviço de controle de versionamento
  
# CodeDeploy
  - O CodeDeploy é um serviço de implantação que automatiza implantações de aplicativos em instâncias do Amazon EC2 em instâncias locais, em funções Lambda sem servidor ou serviços do Amazon ECS.
  - Servico para automatizar o desenvolvimento ( instalacao da aplicacao )
  - In - Place
     - Atualizacao de versao da aplicacao manualmente
  - Blue / Green
    - Atualizacao de versao da aplicacao automatica
    
  - Passo a passo para se criar um CodeDeploy
    - Criar regras de acesso para EC2 e Bucket S3, o serviço de codedeploy tem que ter acesso full aos dois serviços
      - IAM
        - Criar duas roles 
          - Instancia EC2 - FullAccess S3Bucket
          - CodeDeploy - AwsCodeDeploy Role
      
      - EC2
        - IAM Role da instancia EC2 deve ser adicionada na criação da instancia
        - Criar e adicionar TAGS - O CodeDeploy identifica a maquina EC2 para ser executada atraves da tag
      
      - AWS CLI 
        - Se autenticar e conectar ao S3 para transferir os arquivos
          - Criar um usuario com Access ID e Secret Key para acesso a Bucket S3 e CodeDeploy ( o acesso pode ser direto ao inves de grupo )
        - Executar os seguintes comandos
          - Criar uma aplicacao dentro do CodeDeploy chamada "mywebapp"
            - aws deploy create-application --application-name mywebapp
          - Enviar os arquivos (arquivos == sua aplicacao) da sua maquina local para o Bucket S3
            - aws deploy push --application-name mywebapp --s3-location s3://MOME_DO_BUCKET_S3/mywebapp.zip --ignore-hidden-files
      
      - Application - AWS ( acesso a aplicacao criada na awd )
         - Criar Deployment Group
          - Usar a Role criada para CodeDeploy anteriormente
          - Selecionar In-Place ou Blue / Green 
            - In-Place 
              - Uma implantação in-loco é uma estratégia de implantação que atualiza a versão do aplicativo sem substituir nenhum componente da infraestrutura. Em uma implantação local, a versão anterior do aplicativo em cada recurso de computação é interrompida, o aplicativo mais recente é instalado e a nova versão do aplicativo é iniciada e validada. 
            - Blue / Green
              - Uma implantação azul / verde é uma estratégia de implantação na qual você cria dois ambientes separados, mas idênticos. Um ambiente (azul) está executando a versão atual do aplicativo e um ambiente (verde) está executando a nova versão do aplicativo. Usar uma estratégia de implantação azul / verde aumenta a disponibilidade do aplicativo e reduz o risco de implantação, simplificando o processo de reversão se uma implantação falhar. 
          - Enviroment Configuration
            - Selecionar uma instancia EC2 encontrar a instancia atraves da TAG referente a nossa instancia EC2 criada
          
          - Criar Deployment
            - Deployment vai ser a partir do grupo Deployment Group criado

# CodePipeline
  - A ideia é automarizar todo o processo de deploy da aplicacao
    - 1 - Criar uma instancia EC2 
    - 2 - Criar um Bucket S3 com a opção de versionamento habilitada
    - 3 - CodePipeline por sua vez vai sempre verificar se houve alteracao na Bucket e com isso acionara o code deploy a buscar a versao atualizada para implementar na instancia EC2
    - 4 - 